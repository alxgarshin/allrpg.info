el("form#form_group")&&(_('input[name="disable_changes[0]"]').on("change",(function(){_(this).is(":checked")?_("form#form_group").find("button.careful").disable():_("form#form_group").find("button.careful").enable()})),_('input[name="disable_changes[0]"]').change(),window.grgft=!0,_('select[name="parent[0]"]').on("change",(function(){const self=_(this);_('input[name="id[0]"]').val()>0&&window.grgft?window.grgft=!1:actionRequest({action:"group/get_responsible_gamemaster",obj_id:self.val()}),actionRequest({action:"group/get_child_groups",obj_id:self.val(),group_id:_("input[name='id[0]']").val()})})),_('select[name="parent[0]"]').change(),fraymDragDropApply('div[id="div_link_to_characters[0]"] a',{sortable:!0,dragEnd:function(){const self=_(this),link=self.attr("href"),values=/\/(\d+)\//g.exec(link),link2=self.prev()?.attr("href");let afterObjId=null;if(link2){afterObjId=/\/(\d+)\//g.exec(link2)[1]}let trClassNumber=1;_("div[id='div_link_to_characters[0]'] a").each((function(){_(this).removeClass("string1").removeClass("string2").addClass(`string${trClassNumber}`),trClassNumber=3-trClassNumber}));const groupId=_('input[name="id[0]"]').val();actionRequest({action:"group/change_character_code",obj_id:values[1],group_id:groupId,after_obj_id:afterObjId})}})),withDocumentEvents&&(_arSuccess("get_child_groups",(function(jsonData,params,target){(target=_('select[name="code[0]"]')).empty(),_each(jsonData.response_data,(function(value,key){target.insert(`<option value="${key}">${value}</option>`,"append")})),target.val(parseInt(jsonData.response_data_selected))})),_arSuccess("get_responsible_gamemaster",(function(jsonData,params,target){parseInt(jsonData.response_data)>0&&_('select[name="responsible_gamemaster_id[0]"]').val(parseInt(jsonData.response_data))})),_arSuccess("change_character_code",(function(){})));